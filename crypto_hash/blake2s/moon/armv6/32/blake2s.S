#include "arm.inc"

SECTION_TEXT

.arch armv5

GLOBAL_HIDDEN_FN blake2s_blocks_armv6
stmfd sp!, {r4-r12, r14}
mov r12, sp
sub sp, sp, #256
and sp, sp, #0xffffffe0
str r12, [sp, #148]
mov r4, #64
cmp r2, #64
bhs blake2s_blocks_armv6_use64
mov r4, r2
blake2s_blocks_armv6_use64:
str r0, [sp, #144]
str r2, [sp, #132]
str r3, [sp, #140]
str r4, [sp, #136]
ldr r6, [r0, #40]
tst r6, r6
beq blake2s_blocks_armv6_nocopymessage
cmp r2, #64
beq blake2s_blocks_armv6_nocopymessage
mov r3, sp
eor r4, r4
eor r5, r5
eor r6, r6
eor r7, r7
eor r8, r8
eor r9, r9
eor r10, r10
eor r11, r11
stmia r3!, {r4-r11}
stmia r3!, {r4-r11}
mov r3, sp
tst r2, #32
beq blake2s_blocks_armv6_skip32
ldmia r1!, {r4-r11}
stmia r3!, {r4-r11}
blake2s_blocks_armv6_skip32:
tst r2, #16
beq blake2s_blocks_armv6_skip16
ldmia r1!, {r4-r7}
stmia r3!, {r4-r7}
blake2s_blocks_armv6_skip16:
tst r2, #8
beq blake2s_blocks_armv6_skip8
ldmia r1!, {r4-r5}
stmia r3!, {r4-r5}
blake2s_blocks_armv6_skip8:
tst r2, #4
beq blake2s_blocks_armv6_skip4
ldr r5, [r1], #4
str r5, [r3], #4
blake2s_blocks_armv6_skip4:
tst r2, #2
beq blake2s_blocks_armv6_skip2
ldrh r5, [r1], #2
strh r5, [r3], #2
blake2s_blocks_armv6_skip2:
tst r2, #1
beq blake2s_blocks_armv6_skip1
ldrb r5, [r1]
strb r5, [r3]
blake2s_blocks_armv6_skip1:
mov r1, sp
blake2s_blocks_armv6_nocopymessage:
str r1, [sp, #128]
mov r14, r0
add r2, sp, #96
ldr r12, =blake2s_constants_armv6
ldr r0, [r14, #32]
ldr r1, [r14, #36]
str r0, [sp, #152]
str r1, [sp, #156]
ldr r0, [r14, #40]
ldr r1, [r14, #44]
ldmia r12, {r4-r11}
eor r10, r10, r0
eor r11, r11, r1
stmia r2, {r4-r11}
ldmia r14, {r0-r7}
b blake2s_blocks_armv6_mainloop

.p2align 2

blake2s_constants_armv6:
.long 0x6a09e667
.long 0xbb67ae85
.long 0x3c6ef372
.long 0xa54ff53a
.long 0x510e527f
.long 0x9b05688c
.long 0x1f83d9ab
.long 0x5be0cd19

.ltorg

blake2s_blocks_armv6_mainloop:
ldr r14, [sp, #128]
cmp r14, sp
beq blake2s_blocks_nocopymessage2
mov r12, sp
ldmia r14!, {r8-r11}
stmia r12!, {r8-r11}
ldmia r14!, {r8-r11}
stmia r12!, {r8-r11}
ldmia r14!, {r8-r11}
stmia r12!, {r8-r11}
ldmia r14, {r8-r11}
stmia r12, {r8-r11}
blake2s_blocks_nocopymessage2:
add r8, sp, #64
stmia r8, {r0-r7}
add r12, sp, #96
add r14, sp, #160
ldmia r12!, {r8-r11}
stmia r14!, {r8-r11}
ldmia r12!, {r8-r11}
str r10, [sp, #184]
str r11, [sp, #188]
ldr r10, [sp, #152]
ldr r11, [sp, #156]
ldr r12, [sp, #136]
add r10, r10, r12
cmp r10, r12
bhs blake2s_blocks_armv6_nocarry
add r11, r11, #1
blake2s_blocks_armv6_nocarry:
eor r8, r8, r10
eor r9, r9, r11
str r10, [sp, #152]
str r11, [sp, #156]
mov r12, r8
mov r11, r9
str r6, [sp, #196]
ldr r8, [sp, #160]
ldr r9, [sp, #164]
ldr r14, [sp, #184]
ldr r10, [sp, #0]
ldr r6, [sp, #8]
add r0, r0, r10
add r1, r1, r6
add r0, r0, r4
add r1, r1, r5
eor r12, r12, r0
eor r11, r11, r1
ldr r10, [sp, #4]
ror r12, r12, #16
ldr r6, [sp, #12]
ror r11, r11, #16
add r8, r8, r12
add r9, r9, r11
eor r4, r4, r8
eor r5, r5, r9
ror r4, r4, #12
ror r5, r5, #12
add r0, r0, r10
add r1, r1, r6
add r0, r0, r4
add r1, r1, r5
eor r12, r12, r0
eor r11, r11, r1
ldr r10, [sp, #16]
ror r12, r12, #8
ldr r6, [sp, #24]
ror r11, r11, #8
add r8, r8, r12
add r9, r9, r11
str r11, [sp, #180]
eor r4, r4, r8
eor r5, r5, r9
ror r4, r4, #7
ror r5, r5, #7
str r4, [sp, #192]
add r2, r2, r10
add r3, r3, r6
ldr r6, [sp, #196]
add r2, r2, r6
add r3, r3, r7
ldr r4, [sp, #188]
eor r14, r14, r2
ldr r11, [sp, #172]
eor r4, r4, r3
ldr r10, [sp, #168]
ror r14, r14, #16
ror r4, r4, #16
str r8, [sp, #160]
add r10, r10, r14
str r9, [sp, #164]
add r11, r11, r4
ldr r8, [sp, #20]
eor r6, r6, r10
ldr r9, [sp, #28]
eor r7, r7, r11
ror r6, r6, #12
ror r7, r7, #12
add r2, r2, r8
add r3, r3, r9
add r2, r2, r6
add r3, r3, r7
eor r14, r14, r2
ldr r8, [sp, #32]
eor r4, r4, r3
ldr r9, [sp, #40]
ror r14, r14, #8
ror r4, r4, #8
add r10, r10, r14
add r11, r11, r4
eor r6, r6, r10
eor r7, r7, r11
ror r6, r6, #7
ror r7, r7, #7
add r0, r0, r8
add r1, r1, r9
add r0, r0, r5
add r1, r1, r6
eor r4, r4, r0
ldr r8, [sp, #36]
eor r12, r12, r1
ldr r9, [sp, #44]
ror r4, r4, #16
ror r12, r12, #16
add r10, r10, r4
add r11, r11, r12
eor r5, r5, r10
eor r6, r6, r11
ror r5, r5, #12
ror r6, r6, #12
add r0, r0, r8
add r1, r1, r9
add r0, r0, r5
add r1, r1, r6
eor r4, r4, r0
ldr r8, [sp, #48]
eor r12, r12, r1
ldr r9, [sp, #56]
ror r4, r4, #8
ror r12, r12, #8
add r10, r10, r4
add r11, r11, r12
eor r5, r5, r10
eor r6, r6, r11
str r4, [sp, #188]
ror r5, r5, #7
str r11, [sp, #172]
ror r6, r6, #7
add r2, r2, r8
ldr r4, [sp, #192]
add r3, r3, r9
ldr r11, [sp, #180]
add r2, r2, r7
add r3, r3, r4
ldr r8, [sp, #160]
eor r11, r11, r2
ldr r9, [sp, #164]
eor r14, r14, r3
str r10, [sp, #168]
ror r11, r11, #16
str r6, [sp, #196]
ror r14, r14, #16
add r8, r8, r11
add r9, r9, r14
eor r7, r7, r8
ldr r10, [sp, #52]
eor r4, r4, r9
ldr r6, [sp, #60]
ror r7, r7, #12
ror r4, r4, #12
add r2, r2, r10
add r3, r3, r6
add r2, r2, r7
add r3, r3, r4
eor r11, r11, r2
eor r14, r14, r3
ror r11, r11, #8
ror r14, r14, #8
add r8, r8, r11
ldr r10, [sp, #56]
add r9, r9, r14
ldr r6, [sp, #16]
eor r7, r7, r8
eor r4, r4, r9
ror r7, r7, #7
ror r4, r4, #7
add r0, r0, r10
add r1, r1, r6
add r0, r0, r4
add r1, r1, r5
eor r12, r12, r0
eor r11, r11, r1
ldr r10, [sp, #40]
ror r12, r12, #16
ldr r6, [sp, #32]
ror r11, r11, #16
add r8, r8, r12
add r9, r9, r11
eor r4, r4, r8
eor r5, r5, r9
ror r4, r4, #12
ror r5, r5, #12
add r0, r0, r10
add r1, r1, r6
add r0, r0, r4
add r1, r1, r5
eor r12, r12, r0
eor r11, r11, r1
ldr r10, [sp, #36]
ror r12, r12, #8
ldr r6, [sp, #52]
ror r11, r11, #8
add r8, r8, r12
add r9, r9, r11
str r11, [sp, #180]
eor r4, r4, r8
eor r5, r5, r9
ror r4, r4, #7
ror r5, r5, #7
str r4, [sp, #192]
add r2, r2, r10
add r3, r3, r6
ldr r6, [sp, #196]
add r2, r2, r6
add r3, r3, r7
ldr r4, [sp, #188]
eor r14, r14, r2
ldr r11, [sp, #172]
eor r4, r4, r3
ldr r10, [sp, #168]
ror r14, r14, #16
ror r4, r4, #16
str r8, [sp, #160]
add r10, r10, r14
str r9, [sp, #164]
add r11, r11, r4
ldr r8, [sp, #60]
eor r6, r6, r10
ldr r9, [sp, #24]
eor r7, r7, r11
ror r6, r6, #12
ror r7, r7, #12
add r2, r2, r8
add r3, r3, r9
add r2, r2, r6
add r3, r3, r7
eor r14, r14, r2
ldr r8, [sp, #4]
eor r4, r4, r3
ldr r9, [sp, #0]
ror r14, r14, #8
ror r4, r4, #8
add r10, r10, r14
add r11, r11, r4
eor r6, r6, r10
eor r7, r7, r11
ror r6, r6, #7
ror r7, r7, #7
add r0, r0, r8
add r1, r1, r9
add r0, r0, r5
add r1, r1, r6
eor r4, r4, r0
ldr r8, [sp, #48]
eor r12, r12, r1
ldr r9, [sp, #8]
ror r4, r4, #16
ror r12, r12, #16
add r10, r10, r4
add r11, r11, r12
eor r5, r5, r10
eor r6, r6, r11
ror r5, r5, #12
ror r6, r6, #12
add r0, r0, r8
add r1, r1, r9
add r0, r0, r5
add r1, r1, r6
eor r4, r4, r0
ldr r8, [sp, #44]
eor r12, r12, r1
ldr r9, [sp, #20]
ror r4, r4, #8
ror r12, r12, #8
add r10, r10, r4
add r11, r11, r12
eor r5, r5, r10
eor r6, r6, r11
str r4, [sp, #188]
ror r5, r5, #7
str r11, [sp, #172]
ror r6, r6, #7
add r2, r2, r8
ldr r4, [sp, #192]
add r3, r3, r9
ldr r11, [sp, #180]
add r2, r2, r7
add r3, r3, r4
ldr r8, [sp, #160]
eor r11, r11, r2
ldr r9, [sp, #164]
eor r14, r14, r3
str r10, [sp, #168]
ror r11, r11, #16
str r6, [sp, #196]
ror r14, r14, #16
add r8, r8, r11
add r9, r9, r14
eor r7, r7, r8
ldr r10, [sp, #28]
eor r4, r4, r9
ldr r6, [sp, #12]
ror r7, r7, #12
ror r4, r4, #12
add r2, r2, r10
add r3, r3, r6
add r2, r2, r7
add r3, r3, r4
eor r11, r11, r2
eor r14, r14, r3
ror r11, r11, #8
ror r14, r14, #8
add r8, r8, r11
ldr r10, [sp, #44]
add r9, r9, r14
ldr r6, [sp, #48]
eor r7, r7, r8
eor r4, r4, r9
ror r7, r7, #7
ror r4, r4, #7
add r0, r0, r10
add r1, r1, r6
add r0, r0, r4
add r1, r1, r5
eor r12, r12, r0
eor r11, r11, r1
ldr r10, [sp, #32]
ror r12, r12, #16
ldr r6, [sp, #0]
ror r11, r11, #16
add r8, r8, r12
add r9, r9, r11
eor r4, r4, r8
eor r5, r5, r9
ror r4, r4, #12
ror r5, r5, #12
add r0, r0, r10
add r1, r1, r6
add r0, r0, r4
add r1, r1, r5
eor r12, r12, r0
eor r11, r11, r1
ldr r10, [sp, #20]
ror r12, r12, #8
ldr r6, [sp, #60]
ror r11, r11, #8
add r8, r8, r12
add r9, r9, r11
str r11, [sp, #180]
eor r4, r4, r8
eor r5, r5, r9
ror r4, r4, #7
ror r5, r5, #7
str r4, [sp, #192]
add r2, r2, r10
add r3, r3, r6
ldr r6, [sp, #196]
add r2, r2, r6
add r3, r3, r7
ldr r4, [sp, #188]
eor r14, r14, r2
ldr r11, [sp, #172]
eor r4, r4, r3
ldr r10, [sp, #168]
ror r14, r14, #16
ror r4, r4, #16
str r8, [sp, #160]
add r10, r10, r14
str r9, [sp, #164]
add r11, r11, r4
ldr r8, [sp, #8]
eor r6, r6, r10
ldr r9, [sp, #52]
eor r7, r7, r11
ror r6, r6, #12
ror r7, r7, #12
add r2, r2, r8
add r3, r3, r9
add r2, r2, r6
add r3, r3, r7
eor r14, r14, r2
ldr r8, [sp, #40]
eor r4, r4, r3
ldr r9, [sp, #12]
ror r14, r14, #8
ror r4, r4, #8
add r10, r10, r14
add r11, r11, r4
eor r6, r6, r10
eor r7, r7, r11
ror r6, r6, #7
ror r7, r7, #7
add r0, r0, r8
add r1, r1, r9
add r0, r0, r5
add r1, r1, r6
eor r4, r4, r0
ldr r8, [sp, #56]
eor r12, r12, r1
ldr r9, [sp, #24]
ror r4, r4, #16
ror r12, r12, #16
add r10, r10, r4
add r11, r11, r12
eor r5, r5, r10
eor r6, r6, r11
ror r5, r5, #12
ror r6, r6, #12
add r0, r0, r8
add r1, r1, r9
add r0, r0, r5
add r1, r1, r6
eor r4, r4, r0
ldr r8, [sp, #28]
eor r12, r12, r1
ldr r9, [sp, #36]
ror r4, r4, #8
ror r12, r12, #8
add r10, r10, r4
add r11, r11, r12
eor r5, r5, r10
eor r6, r6, r11
str r4, [sp, #188]
ror r5, r5, #7
str r11, [sp, #172]
ror r6, r6, #7
add r2, r2, r8
ldr r4, [sp, #192]
add r3, r3, r9
ldr r11, [sp, #180]
add r2, r2, r7
add r3, r3, r4
ldr r8, [sp, #160]
eor r11, r11, r2
ldr r9, [sp, #164]
eor r14, r14, r3
str r10, [sp, #168]
ror r11, r11, #16
str r6, [sp, #196]
ror r14, r14, #16
add r8, r8, r11
add r9, r9, r14
eor r7, r7, r8
ldr r10, [sp, #4]
eor r4, r4, r9
ldr r6, [sp, #16]
ror r7, r7, #12
ror r4, r4, #12
add r2, r2, r10
add r3, r3, r6
add r2, r2, r7
add r3, r3, r4
eor r11, r11, r2
eor r14, r14, r3
ror r11, r11, #8
ror r14, r14, #8
add r8, r8, r11
ldr r10, [sp, #28]
add r9, r9, r14
ldr r6, [sp, #12]
eor r7, r7, r8
eor r4, r4, r9
ror r7, r7, #7
ror r4, r4, #7
add r0, r0, r10
add r1, r1, r6
add r0, r0, r4
add r1, r1, r5
eor r12, r12, r0
eor r11, r11, r1
ldr r10, [sp, #36]
ror r12, r12, #16
ldr r6, [sp, #4]
ror r11, r11, #16
add r8, r8, r12
add r9, r9, r11
eor r4, r4, r8
eor r5, r5, r9
ror r4, r4, #12
ror r5, r5, #12
add r0, r0, r10
add r1, r1, r6
add r0, r0, r4
add r1, r1, r5
eor r12, r12, r0
eor r11, r11, r1
ldr r10, [sp, #52]
ror r12, r12, #8
ldr r6, [sp, #44]
ror r11, r11, #8
add r8, r8, r12
add r9, r9, r11
str r11, [sp, #180]
eor r4, r4, r8
eor r5, r5, r9
ror r4, r4, #7
ror r5, r5, #7
str r4, [sp, #192]
add r2, r2, r10
add r3, r3, r6
ldr r6, [sp, #196]
add r2, r2, r6
add r3, r3, r7
ldr r4, [sp, #188]
eor r14, r14, r2
ldr r11, [sp, #172]
eor r4, r4, r3
ldr r10, [sp, #168]
ror r14, r14, #16
ror r4, r4, #16
str r8, [sp, #160]
add r10, r10, r14
str r9, [sp, #164]
add r11, r11, r4
ldr r8, [sp, #48]
eor r6, r6, r10
ldr r9, [sp, #56]
eor r7, r7, r11
ror r6, r6, #12
ror r7, r7, #12
add r2, r2, r8
add r3, r3, r9
add r2, r2, r6
add r3, r3, r7
eor r14, r14, r2
ldr r8, [sp, #8]
eor r4, r4, r3
ldr r9, [sp, #20]
ror r14, r14, #8
ror r4, r4, #8
add r10, r10, r14
add r11, r11, r4
eor r6, r6, r10
eor r7, r7, r11
ror r6, r6, #7
ror r7, r7, #7
add r0, r0, r8
add r1, r1, r9
add r0, r0, r5
add r1, r1, r6
eor r4, r4, r0
ldr r8, [sp, #24]
eor r12, r12, r1
ldr r9, [sp, #40]
ror r4, r4, #16
ror r12, r12, #16
add r10, r10, r4
add r11, r11, r12
eor r5, r5, r10
eor r6, r6, r11
ror r5, r5, #12
ror r6, r6, #12
add r0, r0, r8
add r1, r1, r9
add r0, r0, r5
add r1, r1, r6
eor r4, r4, r0
ldr r8, [sp, #16]
eor r12, r12, r1
ldr r9, [sp, #60]
ror r4, r4, #8
ror r12, r12, #8
add r10, r10, r4
add r11, r11, r12
eor r5, r5, r10
eor r6, r6, r11
str r4, [sp, #188]
ror r5, r5, #7
str r11, [sp, #172]
ror r6, r6, #7
add r2, r2, r8
ldr r4, [sp, #192]
add r3, r3, r9
ldr r11, [sp, #180]
add r2, r2, r7
add r3, r3, r4
ldr r8, [sp, #160]
eor r11, r11, r2
ldr r9, [sp, #164]
eor r14, r14, r3
str r10, [sp, #168]
ror r11, r11, #16
str r6, [sp, #196]
ror r14, r14, #16
add r8, r8, r11
add r9, r9, r14
eor r7, r7, r8
ldr r10, [sp, #0]
eor r4, r4, r9
ldr r6, [sp, #32]
ror r7, r7, #12
ror r4, r4, #12
add r2, r2, r10
add r3, r3, r6
add r2, r2, r7
add r3, r3, r4
eor r11, r11, r2
eor r14, r14, r3
ror r11, r11, #8
ror r14, r14, #8
add r8, r8, r11
ldr r10, [sp, #36]
add r9, r9, r14
ldr r6, [sp, #20]
eor r7, r7, r8
eor r4, r4, r9
ror r7, r7, #7
ror r4, r4, #7
add r0, r0, r10
add r1, r1, r6
add r0, r0, r4
add r1, r1, r5
eor r12, r12, r0
eor r11, r11, r1
ldr r10, [sp, #0]
ror r12, r12, #16
ldr r6, [sp, #28]
ror r11, r11, #16
add r8, r8, r12
add r9, r9, r11
eor r4, r4, r8
eor r5, r5, r9
ror r4, r4, #12
ror r5, r5, #12
add r0, r0, r10
add r1, r1, r6
add r0, r0, r4
add r1, r1, r5
eor r12, r12, r0
eor r11, r11, r1
ldr r10, [sp, #8]
ror r12, r12, #8
ldr r6, [sp, #40]
ror r11, r11, #8
add r8, r8, r12
add r9, r9, r11
str r11, [sp, #180]
eor r4, r4, r8
eor r5, r5, r9
ror r4, r4, #7
ror r5, r5, #7
str r4, [sp, #192]
add r2, r2, r10
add r3, r3, r6
ldr r6, [sp, #196]
add r2, r2, r6
add r3, r3, r7
ldr r4, [sp, #188]
eor r14, r14, r2
ldr r11, [sp, #172]
eor r4, r4, r3
ldr r10, [sp, #168]
ror r14, r14, #16
ror r4, r4, #16
str r8, [sp, #160]
add r10, r10, r14
str r9, [sp, #164]
add r11, r11, r4
ldr r8, [sp, #16]
eor r6, r6, r10
ldr r9, [sp, #60]
eor r7, r7, r11
ror r6, r6, #12
ror r7, r7, #12
add r2, r2, r8
add r3, r3, r9
add r2, r2, r6
add r3, r3, r7
eor r14, r14, r2
ldr r8, [sp, #56]
eor r4, r4, r3
ldr r9, [sp, #44]
ror r14, r14, #8
ror r4, r4, #8
add r10, r10, r14
add r11, r11, r4
eor r6, r6, r10
eor r7, r7, r11
ror r6, r6, #7
ror r7, r7, #7
add r0, r0, r8
add r1, r1, r9
add r0, r0, r5
add r1, r1, r6
eor r4, r4, r0
ldr r8, [sp, #4]
eor r12, r12, r1
ldr r9, [sp, #48]
ror r4, r4, #16
ror r12, r12, #16
add r10, r10, r4
add r11, r11, r12
eor r5, r5, r10
eor r6, r6, r11
ror r5, r5, #12
ror r6, r6, #12
add r0, r0, r8
add r1, r1, r9
add r0, r0, r5
add r1, r1, r6
eor r4, r4, r0
ldr r8, [sp, #24]
eor r12, r12, r1
ldr r9, [sp, #12]
ror r4, r4, #8
ror r12, r12, #8
add r10, r10, r4
add r11, r11, r12
eor r5, r5, r10
eor r6, r6, r11
str r4, [sp, #188]
ror r5, r5, #7
str r11, [sp, #172]
ror r6, r6, #7
add r2, r2, r8
ldr r4, [sp, #192]
add r3, r3, r9
ldr r11, [sp, #180]
add r2, r2, r7
add r3, r3, r4
ldr r8, [sp, #160]
eor r11, r11, r2
ldr r9, [sp, #164]
eor r14, r14, r3
str r10, [sp, #168]
ror r11, r11, #16
str r6, [sp, #196]
ror r14, r14, #16
add r8, r8, r11
add r9, r9, r14
eor r7, r7, r8
ldr r10, [sp, #32]
eor r4, r4, r9
ldr r6, [sp, #52]
ror r7, r7, #12
ror r4, r4, #12
add r2, r2, r10
add r3, r3, r6
add r2, r2, r7
add r3, r3, r4
eor r11, r11, r2
eor r14, r14, r3
ror r11, r11, #8
ror r14, r14, #8
add r8, r8, r11
ldr r10, [sp, #8]
add r9, r9, r14
ldr r6, [sp, #24]
eor r7, r7, r8
eor r4, r4, r9
ror r7, r7, #7
ror r4, r4, #7
add r0, r0, r10
add r1, r1, r6
add r0, r0, r4
add r1, r1, r5
eor r12, r12, r0
eor r11, r11, r1
ldr r10, [sp, #48]
ror r12, r12, #16
ldr r6, [sp, #40]
ror r11, r11, #16
add r8, r8, r12
add r9, r9, r11
eor r4, r4, r8
eor r5, r5, r9
ror r4, r4, #12
ror r5, r5, #12
add r0, r0, r10
add r1, r1, r6
add r0, r0, r4
add r1, r1, r5
eor r12, r12, r0
eor r11, r11, r1
ldr r10, [sp, #0]
ror r12, r12, #8
ldr r6, [sp, #32]
ror r11, r11, #8
add r8, r8, r12
add r9, r9, r11
str r11, [sp, #180]
eor r4, r4, r8
eor r5, r5, r9
ror r4, r4, #7
ror r5, r5, #7
str r4, [sp, #192]
add r2, r2, r10
add r3, r3, r6
ldr r6, [sp, #196]
add r2, r2, r6
add r3, r3, r7
ldr r4, [sp, #188]
eor r14, r14, r2
ldr r11, [sp, #172]
eor r4, r4, r3
ldr r10, [sp, #168]
ror r14, r14, #16
ror r4, r4, #16
str r8, [sp, #160]
add r10, r10, r14
str r9, [sp, #164]
add r11, r11, r4
ldr r8, [sp, #44]
eor r6, r6, r10
ldr r9, [sp, #12]
eor r7, r7, r11
ror r6, r6, #12
ror r7, r7, #12
add r2, r2, r8
add r3, r3, r9
add r2, r2, r6
add r3, r3, r7
eor r14, r14, r2
ldr r8, [sp, #16]
eor r4, r4, r3
ldr r9, [sp, #28]
ror r14, r14, #8
ror r4, r4, #8
add r10, r10, r14
add r11, r11, r4
eor r6, r6, r10
eor r7, r7, r11
ror r6, r6, #7
ror r7, r7, #7
add r0, r0, r8
add r1, r1, r9
add r0, r0, r5
add r1, r1, r6
eor r4, r4, r0
ldr r8, [sp, #52]
eor r12, r12, r1
ldr r9, [sp, #20]
ror r4, r4, #16
ror r12, r12, #16
add r10, r10, r4
add r11, r11, r12
eor r5, r5, r10
eor r6, r6, r11
ror r5, r5, #12
ror r6, r6, #12
add r0, r0, r8
add r1, r1, r9
add r0, r0, r5
add r1, r1, r6
eor r4, r4, r0
ldr r8, [sp, #60]
eor r12, r12, r1
ldr r9, [sp, #4]
ror r4, r4, #8
ror r12, r12, #8
add r10, r10, r4
add r11, r11, r12
eor r5, r5, r10
eor r6, r6, r11
str r4, [sp, #188]
ror r5, r5, #7
str r11, [sp, #172]
ror r6, r6, #7
add r2, r2, r8
ldr r4, [sp, #192]
add r3, r3, r9
ldr r11, [sp, #180]
add r2, r2, r7
add r3, r3, r4
ldr r8, [sp, #160]
eor r11, r11, r2
ldr r9, [sp, #164]
eor r14, r14, r3
str r10, [sp, #168]
ror r11, r11, #16
str r6, [sp, #196]
ror r14, r14, #16
add r8, r8, r11
add r9, r9, r14
eor r7, r7, r8
ldr r10, [sp, #56]
eor r4, r4, r9
ldr r6, [sp, #36]
ror r7, r7, #12
ror r4, r4, #12
add r2, r2, r10
add r3, r3, r6
add r2, r2, r7
add r3, r3, r4
eor r11, r11, r2
eor r14, r14, r3
ror r11, r11, #8
ror r14, r14, #8
add r8, r8, r11
ldr r10, [sp, #48]
add r9, r9, r14
ldr r6, [sp, #4]
eor r7, r7, r8
eor r4, r4, r9
ror r7, r7, #7
ror r4, r4, #7
add r0, r0, r10
add r1, r1, r6
add r0, r0, r4
add r1, r1, r5
eor r12, r12, r0
eor r11, r11, r1
ldr r10, [sp, #20]
ror r12, r12, #16
ldr r6, [sp, #60]
ror r11, r11, #16
add r8, r8, r12
add r9, r9, r11
eor r4, r4, r8
eor r5, r5, r9
ror r4, r4, #12
ror r5, r5, #12
add r0, r0, r10
add r1, r1, r6
add r0, r0, r4
add r1, r1, r5
eor r12, r12, r0
eor r11, r11, r1
ldr r10, [sp, #56]
ror r12, r12, #8
ldr r6, [sp, #16]
ror r11, r11, #8
add r8, r8, r12
add r9, r9, r11
str r11, [sp, #180]
eor r4, r4, r8
eor r5, r5, r9
ror r4, r4, #7
ror r5, r5, #7
str r4, [sp, #192]
add r2, r2, r10
add r3, r3, r6
ldr r6, [sp, #196]
add r2, r2, r6
add r3, r3, r7
ldr r4, [sp, #188]
eor r14, r14, r2
ldr r11, [sp, #172]
eor r4, r4, r3
ldr r10, [sp, #168]
ror r14, r14, #16
ror r4, r4, #16
str r8, [sp, #160]
add r10, r10, r14
str r9, [sp, #164]
add r11, r11, r4
ldr r8, [sp, #52]
eor r6, r6, r10
ldr r9, [sp, #40]
eor r7, r7, r11
ror r6, r6, #12
ror r7, r7, #12
add r2, r2, r8
add r3, r3, r9
add r2, r2, r6
add r3, r3, r7
eor r14, r14, r2
ldr r8, [sp, #0]
eor r4, r4, r3
ldr r9, [sp, #24]
ror r14, r14, #8
ror r4, r4, #8
add r10, r10, r14
add r11, r11, r4
eor r6, r6, r10
eor r7, r7, r11
ror r6, r6, #7
ror r7, r7, #7
add r0, r0, r8
add r1, r1, r9
add r0, r0, r5
add r1, r1, r6
eor r4, r4, r0
ldr r8, [sp, #28]
eor r12, r12, r1
ldr r9, [sp, #12]
ror r4, r4, #16
ror r12, r12, #16
add r10, r10, r4
add r11, r11, r12
eor r5, r5, r10
eor r6, r6, r11
ror r5, r5, #12
ror r6, r6, #12
add r0, r0, r8
add r1, r1, r9
add r0, r0, r5
add r1, r1, r6
eor r4, r4, r0
ldr r8, [sp, #36]
eor r12, r12, r1
ldr r9, [sp, #32]
ror r4, r4, #8
ror r12, r12, #8
add r10, r10, r4
add r11, r11, r12
eor r5, r5, r10
eor r6, r6, r11
str r4, [sp, #188]
ror r5, r5, #7
str r11, [sp, #172]
ror r6, r6, #7
add r2, r2, r8
ldr r4, [sp, #192]
add r3, r3, r9
ldr r11, [sp, #180]
add r2, r2, r7
add r3, r3, r4
ldr r8, [sp, #160]
eor r11, r11, r2
ldr r9, [sp, #164]
eor r14, r14, r3
str r10, [sp, #168]
ror r11, r11, #16
str r6, [sp, #196]
ror r14, r14, #16
add r8, r8, r11
add r9, r9, r14
eor r7, r7, r8
ldr r10, [sp, #8]
eor r4, r4, r9
ldr r6, [sp, #44]
ror r7, r7, #12
ror r4, r4, #12
add r2, r2, r10
add r3, r3, r6
add r2, r2, r7
add r3, r3, r4
eor r11, r11, r2
eor r14, r14, r3
ror r11, r11, #8
ror r14, r14, #8
add r8, r8, r11
ldr r10, [sp, #52]
add r9, r9, r14
ldr r6, [sp, #28]
eor r7, r7, r8
eor r4, r4, r9
ror r7, r7, #7
ror r4, r4, #7
add r0, r0, r10
add r1, r1, r6
add r0, r0, r4
add r1, r1, r5
eor r12, r12, r0
eor r11, r11, r1
ldr r10, [sp, #44]
ror r12, r12, #16
ldr r6, [sp, #56]
ror r11, r11, #16
add r8, r8, r12
add r9, r9, r11
eor r4, r4, r8
eor r5, r5, r9
ror r4, r4, #12
ror r5, r5, #12
add r0, r0, r10
add r1, r1, r6
add r0, r0, r4
add r1, r1, r5
eor r12, r12, r0
eor r11, r11, r1
ldr r10, [sp, #48]
ror r12, r12, #8
ldr r6, [sp, #12]
ror r11, r11, #8
add r8, r8, r12
add r9, r9, r11
str r11, [sp, #180]
eor r4, r4, r8
eor r5, r5, r9
ror r4, r4, #7
ror r5, r5, #7
str r4, [sp, #192]
add r2, r2, r10
add r3, r3, r6
ldr r6, [sp, #196]
add r2, r2, r6
add r3, r3, r7
ldr r4, [sp, #188]
eor r14, r14, r2
ldr r11, [sp, #172]
eor r4, r4, r3
ldr r10, [sp, #168]
ror r14, r14, #16
ror r4, r4, #16
str r8, [sp, #160]
add r10, r10, r14
str r9, [sp, #164]
add r11, r11, r4
ldr r8, [sp, #4]
eor r6, r6, r10
ldr r9, [sp, #36]
eor r7, r7, r11
ror r6, r6, #12
ror r7, r7, #12
add r2, r2, r8
add r3, r3, r9
add r2, r2, r6
add r3, r3, r7
eor r14, r14, r2
ldr r8, [sp, #20]
eor r4, r4, r3
ldr r9, [sp, #60]
ror r14, r14, #8
ror r4, r4, #8
add r10, r10, r14
add r11, r11, r4
eor r6, r6, r10
eor r7, r7, r11
ror r6, r6, #7
ror r7, r7, #7
add r0, r0, r8
add r1, r1, r9
add r0, r0, r5
add r1, r1, r6
eor r4, r4, r0
ldr r8, [sp, #0]
eor r12, r12, r1
ldr r9, [sp, #16]
ror r4, r4, #16
ror r12, r12, #16
add r10, r10, r4
add r11, r11, r12
eor r5, r5, r10
eor r6, r6, r11
ror r5, r5, #12
ror r6, r6, #12
add r0, r0, r8
add r1, r1, r9
add r0, r0, r5
add r1, r1, r6
eor r4, r4, r0
ldr r8, [sp, #32]
eor r12, r12, r1
ldr r9, [sp, #8]
ror r4, r4, #8
ror r12, r12, #8
add r10, r10, r4
add r11, r11, r12
eor r5, r5, r10
eor r6, r6, r11
str r4, [sp, #188]
ror r5, r5, #7
str r11, [sp, #172]
ror r6, r6, #7
add r2, r2, r8
ldr r4, [sp, #192]
add r3, r3, r9
ldr r11, [sp, #180]
add r2, r2, r7
add r3, r3, r4
ldr r8, [sp, #160]
eor r11, r11, r2
ldr r9, [sp, #164]
eor r14, r14, r3
str r10, [sp, #168]
ror r11, r11, #16
str r6, [sp, #196]
ror r14, r14, #16
add r8, r8, r11
add r9, r9, r14
eor r7, r7, r8
ldr r10, [sp, #24]
eor r4, r4, r9
ldr r6, [sp, #40]
ror r7, r7, #12
ror r4, r4, #12
add r2, r2, r10
add r3, r3, r6
add r2, r2, r7
add r3, r3, r4
eor r11, r11, r2
eor r14, r14, r3
ror r11, r11, #8
ror r14, r14, #8
add r8, r8, r11
ldr r10, [sp, #24]
add r9, r9, r14
ldr r6, [sp, #56]
eor r7, r7, r8
eor r4, r4, r9
ror r7, r7, #7
ror r4, r4, #7
add r0, r0, r10
add r1, r1, r6
add r0, r0, r4
add r1, r1, r5
eor r12, r12, r0
eor r11, r11, r1
ldr r10, [sp, #60]
ror r12, r12, #16
ldr r6, [sp, #36]
ror r11, r11, #16
add r8, r8, r12
add r9, r9, r11
eor r4, r4, r8
eor r5, r5, r9
ror r4, r4, #12
ror r5, r5, #12
add r0, r0, r10
add r1, r1, r6
add r0, r0, r4
add r1, r1, r5
eor r12, r12, r0
eor r11, r11, r1
ldr r10, [sp, #44]
ror r12, r12, #8
ldr r6, [sp, #0]
ror r11, r11, #8
add r8, r8, r12
add r9, r9, r11
str r11, [sp, #180]
eor r4, r4, r8
eor r5, r5, r9
ror r4, r4, #7
ror r5, r5, #7
str r4, [sp, #192]
add r2, r2, r10
add r3, r3, r6
ldr r6, [sp, #196]
add r2, r2, r6
add r3, r3, r7
ldr r4, [sp, #188]
eor r14, r14, r2
ldr r11, [sp, #172]
eor r4, r4, r3
ldr r10, [sp, #168]
ror r14, r14, #16
ror r4, r4, #16
str r8, [sp, #160]
add r10, r10, r14
str r9, [sp, #164]
add r11, r11, r4
ldr r8, [sp, #12]
eor r6, r6, r10
ldr r9, [sp, #32]
eor r7, r7, r11
ror r6, r6, #12
ror r7, r7, #12
add r2, r2, r8
add r3, r3, r9
add r2, r2, r6
add r3, r3, r7
eor r14, r14, r2
ldr r8, [sp, #48]
eor r4, r4, r3
ldr r9, [sp, #52]
ror r14, r14, #8
ror r4, r4, #8
add r10, r10, r14
add r11, r11, r4
eor r6, r6, r10
eor r7, r7, r11
ror r6, r6, #7
ror r7, r7, #7
add r0, r0, r8
add r1, r1, r9
add r0, r0, r5
add r1, r1, r6
eor r4, r4, r0
ldr r8, [sp, #8]
eor r12, r12, r1
ldr r9, [sp, #28]
ror r4, r4, #16
ror r12, r12, #16
add r10, r10, r4
add r11, r11, r12
eor r5, r5, r10
eor r6, r6, r11
ror r5, r5, #12
ror r6, r6, #12
add r0, r0, r8
add r1, r1, r9
add r0, r0, r5
add r1, r1, r6
eor r4, r4, r0
ldr r8, [sp, #4]
eor r12, r12, r1
ldr r9, [sp, #40]
ror r4, r4, #8
ror r12, r12, #8
add r10, r10, r4
add r11, r11, r12
eor r5, r5, r10
eor r6, r6, r11
str r4, [sp, #188]
ror r5, r5, #7
str r11, [sp, #172]
ror r6, r6, #7
add r2, r2, r8
ldr r4, [sp, #192]
add r3, r3, r9
ldr r11, [sp, #180]
add r2, r2, r7
add r3, r3, r4
ldr r8, [sp, #160]
eor r11, r11, r2
ldr r9, [sp, #164]
eor r14, r14, r3
str r10, [sp, #168]
ror r11, r11, #16
str r6, [sp, #196]
ror r14, r14, #16
add r8, r8, r11
add r9, r9, r14
eor r7, r7, r8
ldr r10, [sp, #16]
eor r4, r4, r9
ldr r6, [sp, #20]
ror r7, r7, #12
ror r4, r4, #12
add r2, r2, r10
add r3, r3, r6
add r2, r2, r7
add r3, r3, r4
eor r11, r11, r2
eor r14, r14, r3
ror r11, r11, #8
ror r14, r14, #8
add r8, r8, r11
ldr r10, [sp, #40]
add r9, r9, r14
ldr r6, [sp, #32]
eor r7, r7, r8
eor r4, r4, r9
ror r7, r7, #7
ror r4, r4, #7
add r0, r0, r10
add r1, r1, r6
add r0, r0, r4
add r1, r1, r5
eor r12, r12, r0
eor r11, r11, r1
ldr r10, [sp, #8]
ror r12, r12, #16
ldr r6, [sp, #16]
ror r11, r11, #16
add r8, r8, r12
add r9, r9, r11
eor r4, r4, r8
eor r5, r5, r9
ror r4, r4, #12
ror r5, r5, #12
add r0, r0, r10
add r1, r1, r6
add r0, r0, r4
add r1, r1, r5
eor r12, r12, r0
eor r11, r11, r1
ldr r10, [sp, #28]
ror r12, r12, #8
ldr r6, [sp, #4]
ror r11, r11, #8
add r8, r8, r12
add r9, r9, r11
str r11, [sp, #180]
eor r4, r4, r8
eor r5, r5, r9
ror r4, r4, #7
ror r5, r5, #7
str r4, [sp, #192]
add r2, r2, r10
add r3, r3, r6
ldr r6, [sp, #196]
add r2, r2, r6
add r3, r3, r7
ldr r4, [sp, #188]
eor r14, r14, r2
ldr r11, [sp, #172]
eor r4, r4, r3
ldr r10, [sp, #168]
ror r14, r14, #16
ror r4, r4, #16
str r8, [sp, #160]
add r10, r10, r14
str r9, [sp, #164]
add r11, r11, r4
ldr r8, [sp, #24]
eor r6, r6, r10
ldr r9, [sp, #20]
eor r7, r7, r11
ror r6, r6, #12
ror r7, r7, #12
add r2, r2, r8
add r3, r3, r9
add r2, r2, r6
add r3, r3, r7
eor r14, r14, r2
ldr r8, [sp, #60]
eor r4, r4, r3
ldr r9, [sp, #36]
ror r14, r14, #8
ror r4, r4, #8
add r10, r10, r14
add r11, r11, r4
eor r6, r6, r10
eor r7, r7, r11
ror r6, r6, #7
ror r7, r7, #7
add r0, r0, r8
add r1, r1, r9
add r0, r0, r5
add r1, r1, r6
eor r4, r4, r0
ldr r8, [sp, #44]
eor r12, r12, r1
ldr r9, [sp, #56]
ror r4, r4, #16
ror r12, r12, #16
add r10, r10, r4
add r11, r11, r12
eor r5, r5, r10
eor r6, r6, r11
ror r5, r5, #12
ror r6, r6, #12
add r0, r0, r8
add r1, r1, r9
add r0, r0, r5
add r1, r1, r6
eor r4, r4, r0
ldr r8, [sp, #12]
eor r12, r12, r1
ldr r9, [sp, #52]
ror r4, r4, #8
ror r12, r12, #8
add r10, r10, r4
add r11, r11, r12
eor r5, r5, r10
eor r6, r6, r11
str r4, [sp, #188]
ror r5, r5, #7
str r11, [sp, #172]
ror r6, r6, #7
add r2, r2, r8
ldr r4, [sp, #192]
add r3, r3, r9
ldr r11, [sp, #180]
add r2, r2, r7
add r3, r3, r4
ldr r8, [sp, #160]
eor r11, r11, r2
ldr r9, [sp, #164]
eor r14, r14, r3
str r10, [sp, #168]
ror r11, r11, #16
str r6, [sp, #196]
ror r14, r14, #16
add r8, r8, r11
add r9, r9, r14
eor r7, r7, r8
ldr r10, [sp, #48]
eor r4, r4, r9
ldr r6, [sp, #0]
ror r7, r7, #12
ror r4, r4, #12
add r2, r2, r10
add r3, r3, r6
add r2, r2, r7
add r3, r3, r4
eor r11, r11, r2
eor r14, r14, r3
ror r11, r11, #8
ror r14, r14, #8
add r8, r8, r11
add r9, r9, r14
eor r7, r7, r8
eor r4, r4, r9
ror r7, r7, #7
ror r4, r4, #7
ldr r6, [sp, #196]
ldr r10, [sp, #168]
eor r0, r8
eor r1, r9
eor r2, r10
eor r4, r12
eor r5, r11
eor r6, r14
ldr r8, [sp, #172]
ldr r9, [sp, #188]
eor r3, r8
eor r7, r9
add r14, sp, #64
ldmia r14!, {r8-r11}
eor r0, r0, r8
eor r1, r1, r9
eor r2, r2, r10
eor r3, r3, r11
ldmia r14, {r8-r11}
eor r4, r4, r8
eor r5, r5, r9
eor r6, r6, r10
eor r7, r7, r11
ldr r8, [sp, #132]
ldr r9, [sp, #128]
ldr r10, [sp, #136]
cmp r8, #64
bls blake2s_blocks_armv6_done
sub r8, #64
add r9, r10
str r8, [sp, #132]
str r9, [sp, #128]
b blake2s_blocks_armv6_mainloop
blake2s_blocks_armv6_done:
ldr r8, [sp, #144]
stmia r8!, {r0-r7}
ldr r0, [sp, #152]
ldr r1, [sp, #156]
stmia r8, {r0-r1}
ldr sp, [sp, #148]
ldmfd sp!, {r4-r12, r14}
bx lr
FN_END blake2s_blocks_armv6

